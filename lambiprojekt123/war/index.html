<!DOCTYPE html>
<html manifest="cacheManifest.manifest">
<head>
<title>e-valimissüsteem</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel='stylesheet' href='css/css.css' type='text/css'
	title="default" />
<link rel='stylesheet' href='css/print.css' type='text/css' media="print"/>
<link href="css/jquery-ui-1.10.2.custom.css" rel="stylesheet">
<script type="text/javascript" src="/_ah/channel/jsapi"></script>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="js/scripts.js"></script>
<script type="text/javascript" src="js/scripts2.js"></script>
<script type="text/javascript" src="js/sorttable.js"></script>
<script type="text/javascript" src="js/popup.js"></script>
<script type="text/javascript" src="js/container_replacement.js"></script>
<script type="text/javascript" src="js/scripts3.js"></script>
<script src="js/jquery-1.9.1.js"></script>
<script src="js/jquery-ui-1.10.2.custom.js"></script>
<script src="js/jqBarGraph.1.1.js"></script>
<script src="http://connect.facebook.net/en_US/all.js"></script>
<!-- <script src="js/fb.js"></script> -->
<script
src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBNR6ARY6fy0V2rrk4wXTdcUbnH8qldVZw&sensor=false">
</script>
</head>
<body>
<div id="fb-root"></div>

<script>
window.fbAsyncInit = function() {
  FB.init({ appId: '450735241679152', 
        status: true, 
        cookie: true,
        xfbml: true,
        oauth: true});

  function updateButton(response) {
    var button = document.getElementById('fb-auth');
        
    if (response.authResponse) {
      //user is already logged in and connected
      var userInfo = document.getElementById('user-info');
      FB.api('/me', function(response) {
        userInfo.innerHTML = '<img src="https://graph.facebook.com/' 
      + response.id + '/picture"><br>' + response.name;
        button.innerHTML = 'Logout';
      });
      button.onclick = function() {
        FB.logout(function(response) {
          var userInfo = document.getElementById('user-info');
          userInfo.innerHTML="";
    });
      };
    } else {
      //user is not connected to your app or logged out
      button.innerHTML = 'Login';
      button.onclick = function() {
        FB.login(function(response) {
      if (response.authResponse) {
            FB.api('/me', function(response) {
          var userInfo = document.getElementById('user-info');
          userInfo.innerHTML = 
                '<img src="https://graph.facebook.com/' 
            + response.id + '/picture" style="margin-right:5px"/>' 
            + response.name;
        });    
          } else {
            //user cancelled login or did not grant authorization
          }
        }, {scope:'email'});    
      }
    }
  }

  // run once with current status and whenever the status changes
  FB.getLoginStatus(updateButton);
  FB.Event.subscribe('auth.statusChange', updateButton);    
};
    
(function() {
  var e = document.createElement('script'); e.async = true;
  e.src = document.location.protocol 
    + '//connect.facebook.net/en_US/all.js';
  document.getElementById('fb-root').appendChild(e);
}());

</script>

	<div id="wrap">

		<div id="header">
			<p>	Antud rakendus ei ole mõeldud kasutamiseks reaalsetel valimistel</p>
			<p class="head">e-valimissüsteem</p>
			<div id="login">
				<!-- <span id="FbLoginButton"><img src="/img/facebook-login-button.png" border="0" /></span> -->
				<p><button id="fb-auth">Login</button></p>
				<div id="user-info"></div>
			</div>
		</div>

		<div id="main">
			<div id="container">
				<div id="sidebar">
					<input type="button" class="button" value="Algusesse"
						onclick="changeContent('content1')"> <label class="tekst">Audenditud
						kasutajale:</label> <input type="button" class="button" value="Kandideeri"
						onclick="changeContent('candidate')"> <input id="voteButton" type="button"
						class="button" value="Hääleta" onClick="changeContent('vote')">
					<label class="tekst">Külastajale:</label> <input id="searchButton" type="button"
						class="button" value="Otsi kandidaate"
						onclick="changeContent('search')"> <input type="button"
						class="button" value="Nimekirjad" onClick="changeContent('lists')">
					<input type="button" class="button" value="Tulemused reaalajas"
						onclick="changeContent('realTime')"> <input type="button"
						class="button" value="Statistika" id="statisticsButton"
						onclick="changeContent('statistics')">
						<input type="button"
						class="button" value="Kaart" id="mapButton"
						onclick="changeContent('map')">
				</div>
				<div id="content">
					<div id="loader">
						<img src="img/ajax-loader.gif" alt="">
					</div>
					<div id="content1">
						<h1>Tere tulemast....</h1>
						<h2></h2>
						<p><img src="http://www.teinevoimalus.ee/images/poliitika/valimised.jpg" alt=""/></p>
					</div>

					<div id="candidate" class="hiddenDiv">
						<h1>Kandideeri</h1>
						<label id="firstNameLabel">Eesnimi: </label><input type="text"
							id="firstName"> <span class="errorMessage"
							id="firstNameError"></span><br> <label id="lastNameLabel">Perenimi:
						</label><input type="text" id="lastName"> <span
							class="errorMessage" id="lastNameError"></span><br> <label>Piirkond:
						</label><select id="countySelect">
							<option value="harjumaa">Harju maakond</option>
							<option value="hiiu">Hiiu maakond</option>
							<option value="ida-viru">Ida-Viru maakond</option>
							<option value="jogeva">Jõgeva maakond</option>
							<option value="jarva">Järva maakond</option>
							<option value="laane">Lääne maakond</option>
							<option value="l-viru">Lääne-Viru maakond</option>
							<option value="polva">Põlva maakond</option>
							<option value="parnu">Pärnu maakond</option>
							<option value="rapla">Rapla maakond</option>
							<option value="saare">Saare maakond</option>
							<option value="tartu">Tartu maakond</option>
							<option value="valga">Valga maakond</option>
							<option value="viljandi">Viljandi maakond</option>
							<option value="voru">Võru maakond</option>
						</select><br> <label id="partyLabel">Erakond: </label><input
							type="text" id="party"> <span class="errorMessage"
							id="partyError"></span><br> <input type="button"
							class="button" value="KANDIDEERI !" onClick="setCandidate()">
						<input type="button" class="button" value="Muuda kandidatuuri">
						<input type="button" class="button" value="Tühista kandidatuur">
					</div>
					<div id="vote" class="hiddenDiv">
						<h1>Hääleta...</h1>
						<div id="voteContent">
						
						</div>
					</div>
					<div id="search" class="hiddenDiv">
						<h1>Otsi</h1>
						<h2>&nbsp;</h2>
						<input class="otsivalik" type="radio" name="radiogroup1"
							value="byCanditate">Kanditaadi järgi <input
							class="otsivalik" type="radio" name="radiogroup1"
							value="byRegion">Regiooni järgi <input class="otsivalik"
							type="radio" name="radiogroup1" value="byParty">Partei
						järgi <input class="otsivalik" type="radio" name="radiogroup1"
							value="byPartyAndRegion">Partei ja regiooni järgi
						<hr>
						<div id="byCanditate">
							<label>Kandiaadi nimi: </label><input id="byname" type="text"> <input
								type="submit" value="OTSI" class="searchSubmit">
						</div>
						<div id="byRegion">
							<label>Regioon: </label><select>
								<option value="harjumaa">Harju maakond</option>
								<option value="hiiu">Hiiu maakond</option>
								<option value="ida-viru">Ida-Viru maakond</option>
								<option value="jogeva">Jõgeva maakond</option>
								<option value="jarva">Järva maakond</option>
								<option value="laane">Lääne maakond</option>
								<option value="l-viru">Lääne-Viru maakond</option>
								<option value="polva">Põlva maakond</option>
								<option value="parnu">Pärnu maakond</option>
								<option value="rapla">Rapla maakond</option>
								<option value="saare">Saare maakond</option>
								<option value="tartu">Tartu maakond</option>
								<option value="valga">Valga maakond</option>
								<option value="viljandi">Viljandi maakond</option>
								<option value="voru">Võru maakond</option>
							</select> <input type="submit" value="OTSI" class="searchSubmit">
						</div>
						<div id="byParty">
							<label>Partei: </label><input type="text"> <input
								type="submit" value="OTSI" class="searchSubmit">
						</div>
						<div id="byPartyAndRegion">
							<label>Partei: </label><input type="text"> <label>Regiooni:
							</label><select>
								<option value="harjumaa">Harju maakond</option>
								<option value="hiiu">Hiiu maakond</option>
								<option value="ida-viru">Ida-Viru maakond</option>
								<option value="jogeva">Jõgeva maakond</option>
								<option value="jarva">Järva maakond</option>
								<option value="laane">Lääne maakond</option>
								<option value="l-viru">Lääne-Viru maakond</option>
								<option value="polva">Põlva maakond</option>
								<option value="parnu">Pärnu maakond</option>
								<option value="rapla">Rapla maakond</option>
								<option value="saare">Saare maakond</option>
								<option value="tartu">Tartu maakond</option>
								<option value="valga">Valga maakond</option>
								<option value="viljandi">Viljandi maakond</option>
								<option value="voru">Võru maakond</option>
							</select> <input type="submit" value="OTSI" class="searchSubmit">
						</div>
						<div id="searchResults">
							<h1>Tulemused</h1>
								
						</div>

					</div>
					<div id="lists" class="hiddenDiv">
						<h1>Nimekirjad</h1>
						<form name="form1" method="post" action="?">
							<label> <select name=Nimekiri>
									<option>Vali...</option>
									<option>Piirkonna nimekiri</option>
									<option>Kogu nimekiri</option>
							</select>
							</label>
						</form>

						<div class="left">
							<br> Kandidaatide nimekiri: <br>
							<p>
						</div>
						<div>
							<table class="sortable">
								<tr>
									<th class="number" >NR</th>
									<th class="piirkond" >PIIRKOND</th>
									<th class="kandidaat" >KANDIDAAT</th>
								</tr>
								<tr>
									<td><div class="keskel">123</div></td>
									<td><div class="keskel">Harjumaa</div></td>
									<td><div class="keskel">Juurikas, Juss</div></td>
								</tr>
								<tr>
									<td><div class="keskel">453</div></td>
									<td><div class="keskel">Harjumaa</div></td>
									<td><div class="keskel">Savi, Jaan</div></td>
								</tr>
								<tr>
									<td><div class="keskel">12</div></td>
									<td><div class="keskel">Harjumaa</div></td>
									<td><div class="keskel">Mill, Viktor</div></td>
								</tr>
								<tr>
									<td><div class="keskel">554</div></td>
									<td><div class="keskel">Saaremaa</div></td>
									<td><div class="keskel">Kutt, Margus</div></td>
								</tr>
								<tr>
									<td><div class="keskel">804</div></td>
									<td><div class="keskel">Läänemaa</div></td>
									<td><div class="keskel">Hunt, Kaarel</div></td>
								</tr>
								<tr>
									<td><div class="keskel">341</div></td>
									<td><div class="keskel">Tartumaa</div></td>
									<td><div class="keskel">Küla, Tambet</div></td>
								</tr>
							</table>
						</div>
					</div>
					<div id="realTime" class="hiddenDiv">
						<h1>Reaalaja andmed</h1>
						Tulemused realajas on statistika all.
						<h2>&nbsp;</h2>
					</div>
					<div id="statistics" class="hiddenDiv">
						<input type="button" value="Print" onClick="window.print()"
							id="print-button">
						<div id="statisticsContent">
						</div>
					</div>
					<div id="map" class="hiddenDiv">
						<h1>Kaart</h1>
						<div id="googleMap" style="width:600px;height:450px;"></div>
					</div>
				</div>
			</div>


		</div>

	</div>

	<div id="footer">
		<p>Veebirakenduste loomise projekt: Mart Vellak, Allar Vallaots,
			Martin Reilent 2013</p>
		<p>Rakenduses realiseeritud e-valimiste näide on realiseeritud tehnoloogiate praktiseerimise eesmärgil ning ei ole mõeldud reaalsete e-valimiste korraldamiseks. Kokkulangevused reaalse e-valimiste protsessiga on juhuslikud</p>
	</div>

</body>
</html>
